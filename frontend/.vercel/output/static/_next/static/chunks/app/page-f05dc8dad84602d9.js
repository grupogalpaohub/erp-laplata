(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1702:(e,t,r)=>{"use strict";var n=r(9962);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},4207:(e,t,r)=>{Promise.resolve().then(r.bind(r,5315))},5315:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,dynamic:()=>a});var n=r(3365),s=r(6046),i=r(1702),u=r(1521);function o(){let{user:e,loading:t}=(0,s.A)(),r=(0,i.useRouter)();return((0,u.useEffect)(()=>{t||(e?r.push("/dashboard"):r.push("/login"))},[e,t,r]),t)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):null}let a="force-dynamic"},6046:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>o,A:()=>a});var n=r(3365),s=r(1521);let i=(0,r(2950).UU)("https://gpjcfwjssfvqhppxdudp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdwamNmd2pzc2Z2cWhwcHhkdWRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc5NDQyOTUsImV4cCI6MjA3MzUyMDI5NX0.6h6ogP8aMCvy7fUNN1mbxSK-O0TbGiEIP5rO5z0s0r0"),u=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[a,c]=(0,s.useState)(null),[l,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(!i)return void d(!1);i.auth.getSession().then(e=>{var t;let{data:{session:r}}=e;c(r),o(null!=(t=null==r?void 0:r.user)?t:null),d(!1)}).catch(e=>{console.warn("Failed to get session:",e),d(!1)});let{data:{subscription:e}}=i.auth.onAuthStateChange((e,t)=>{var r;c(t),o(null!=(r=null==t?void 0:t.user)?r:null),d(!1)});return()=>{e&&e.unsubscribe()}},[]);let h=async()=>{if(i)try{let{error:e}=await i.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/dashboard"),queryParams:{access_type:"offline",prompt:"consent"}}});if(e)throw e}catch(e){console.error("Error signing in with Google:",e)}},f=async()=>{if(i)try{let{error:e}=await i.auth.signOut();if(e)throw e}catch(e){console.error("Error signing out:",e)}};return(0,n.jsx)(u.Provider,{value:{user:r,session:a,loading:l,signInWithGoogle:h,signOut:f},children:t})}function a(){let e=(0,s.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[950,347,131,358],()=>e(e.s=4207)),_N_E=e.O()}]);