rules:
  - name: forbid-10000-math
    paths: ["**/*.ts","**/*.tsx","**/*.js","**/*.jsx"]
    mustNotContain: ["* 10000", "/ 10000"]

  - name: money-helpers-present
    paths: ["lib/money.ts","src/lib/money.ts","app/lib/money.ts"]
    mustContain: ["export function toCents(","export function formatBRL("]

  - name: no-client-db-mutation
    paths: ["**/*.ts","**/*.tsx"]
    onlyIfContains: ["'use client'","\"use client\""]
    mustNotRegex: ["\\.insert\\s*\\(","\\.update\\s*\\(","\\.delete\\s*\\(","\\.upsert\\s*\\("]

  - name: tenant-no-hardcode
    paths: ["**/*.{ts,tsx,js,jsx}"]
    mustNotRegex: ["\\btenant_id\\b\\s*[:=]", "\\.eq\\(['\"]tenant_id['\"],", "['\"]LaplataLunaria['\"]", "\\bgetTenantId\\s*\\("]

  - name: ui-base-write-protect
    paths: ["app/layout.tsx","app/globals.css","tailwind.config.js","postcss.config.js",
            "components/ui/**","components/common/**","lib/theme.*","lib/ui/**","app/(home)/**","app/(mm)/**","app/(sd)/**"]
    immutable: true

  - name: db-env-write-protect
    paths: ["supabase/**","migrations/**","database/**",
            "supabase_schema.sql","supabase_full.sql","supabase_full.dump",
            ".env",".env.*",".vercel/**","vercel.json"]
    immutable: true

  - name: mutation-requires-revalidate
    paths: ["app/**/_actions.ts","app/**/route.ts","app/**/route.tsx","lib/data/**.ts"]
    ifRegex: ["\\.insert\\s*\\(","\\.update\\s*\\(","\\.delete\\s*\\(","\\.upsert\\s*\\("]
    mustContain: ["revalidatePath("]